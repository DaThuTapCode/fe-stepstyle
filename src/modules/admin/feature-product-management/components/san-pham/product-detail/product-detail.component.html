

<div  class="list-product-zone">

    <div class="card">
        <div class="form-search">
            <!-- <p class="title-form">Tìm kiếm</p> -->
            <form>
                <div class="row">
                    <div class="col-lg-2">
                        <div class="form-group mb-3">
                           <label for="">Mã sản phẩm: {{ sanPhamById.maSanPham }}</label>
                            <!-- <input [(ngModel)]="sanPhamSearch.maSanPham" placeholder="Nhập mã sản phẩm" type="text" name="maSanPham" class="form-control" aria-label="Sizing example input"
                                aria-describedby="inputGroup-sizing-sm"> -->
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group mb-3">
                           <label for="">Tên sản phẩm: {{ sanPhamById.tenSanPham }}</label>
                            <!-- <input [(ngModel)]="sanPhamSearch.tenSanPham" placeholder="Nhập tên sản phẩm" type="text" name="productName" class="form-control" aria-label="Sizing example input"
                                aria-describedby="inputGroup-sizing-sm"> -->
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group mb-3">
                            <label for="danhMuc">Danh mục: {{ sanPhamById.danhMuc.tenDanhMuc }}</label>
                            <!-- <select [(ngModel)]="sanPhamSearch.idDanhMuc" class="form-select" name="idDanhMuc" id="idDanhMuc">
                                <option (select)="true" [ngValue]="null">Tất cả</option>
                                <option *ngFor="let dm of danhMucs" [ngValue]="dm.idDanhMuc">{{ dm.tenDanhMuc }}</option>
                            </select> -->
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group mb-3">
                            <label for="thuongHieu">Thương hiệu: {{ sanPhamById.thuongHieu.tenThuongHieu }}</label>
                            <!-- <select [(ngModel)]="sanPhamSearch.idThuongHieu" class="form-select" name="idThuongHieu" id="idThuongHieu">
                                <option (select)="true" [ngValue]="null">Tất cả</option>
                                <option *ngFor="let th of thuongHieus" [ngValue]="th.idThuongHieu">{{ th.tenThuongHieu }}
                                </option>
                            </select> -->
                        </div>
                    </div>
                    
                    <div class="col-lg-2">
                        <div class="form-group mb-3">
                            <label for="thuongHieu">Trạng thái</label>
                            <!-- <select class="form-select" name="" id="">
                                <option (select)="true" [ngValue]="null">Tất cả</option>
                                <option *ngFor="let th of thuongHieus" [ngValue]="th">{{ th.tenThuongHieu }}
                                </option>
                            </select> -->
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12 d-flex justify-content-center">
                        <!-- <button (click)="resetSanPhamSearch()" class="btn-custom btn-white m-2"> <i class="fa-solid fa-arrows-rotate"></i> Nhập lại</button>
                        <button (click)="handleSearchSanPham()" class="btn-custom btn-create m-2"> <i class="fa-solid fa-magnifying-glass"></i> Tìm kiếm</button> -->
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-header ">
            <!-- <p class="title-form">Danh sách sản phẩm ({{ paginatinonOfSP.totalElements }})</p> -->

            <div class="button-group d-flex justify-content-end ">
                <button class="btn-custom btn-create" data-bs-toggle="modal" data-bs-target="#modalProduct"><i class="fa-solid fa-plus"></i> Thêm sản phẩm chi tiết</button>
                <!-- <button (click)="handleExportExcel()" class="btn-custom btn-exportexcel"><i
                        class="fa-regular fa-file-excel"></i> Xuất excel</button> -->
            </div>
        </div>
        <div class="card-body">
  
            <div class="table-responsive">
                <!-- Bảng sản phẩm chi tiết -->
                <table class="table">
                  <thead>
                    <tr>
                      <th class="text-center">STT</th>
                      <th class="text-center">Ảnh </th>
                      <th>Mã SPCT</th>
                      <th>Tên sản phẩm</th>
                      <th>Màu sắc</th>
                      <th class="text-center">Kích cỡ</th>
                      <th class="text-center">Chất liệu</th>
                      <th class="text-center">Trọng lượng</th>      
                      <th class="text-center">Số lượng</th>
                      <th class="text-center">Giá</th>
                      <th class="text-center">Hành động</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let spct of sanPhamById.sanPhamChiTiets; let i = index">
                      <td class="text-center align-content-center">{{ tinhSTT(paginatinonOfModalSPCT.page,
                        paginatinonOfModalSPCT.size, i)}}</td>
                      <td class="align-content-center text-center">
                        <img *ngIf="spct.anh" class="img-product-table" [src]="spct.anh"
                          alt="Product Image">
                      </td>
                      <td class="align-content-center">{{ spct.maSpct }}</td>
                      <td class="align-content-center">{{ sanPhamById.tenSanPham }} <span style="font-weight: bold;">[{{ spct.mauSac.tenMau }}-{{ spct.kichCo.giaTri}}-{{ spct.chatLieu.tenChatLieu}}]</span></td>
                      <td class="align-content-center">{{ spct.mauSac.tenMau }}</td>
                      <td class="text-center align-content-center">{{ spct.kichCo.giaTri }}</td>
                      <td class="text-center align-content-center">{{ spct.chatLieu.tenChatLieu }}</td>
                      <td class="text-center align-content-center">{{ spct.trongLuong.giaTri }}</td>
                      <td class="text-center align-content-center">{{ spct.soLuong }}</td>
                      <td class="text-center align-content-center">{{ spct.gia | currency: 'VND' }}</td>
                      <td class="text-center align-content-center">
                        <!-- <button (click)="handleSelectProductDetailInToDetailInvoice(spct.idSpct)" class="btn-custom btn-create">Chọn</button> -->
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="d-flex justify-content-end pagination-buttons mb-2">
                <button [disabled]="paginatinonOfModalSPCT.first" (click)="handlePageSPCTChange('pre')"
                  class="btn btn-primary mx-2 custom-pagination-button">
                  <i class="fa-solid fa-angle-left"></i>
                </button>
      
                <span class="page-indicator align-content-center">
                  {{ paginatinonOfModalSPCT.page + 1 }} / {{ paginatinonOfModalSPCT.totalPages }}
                </span>
      
                <button [disabled]="paginatinonOfModalSPCT.last" (click)="handlePageSPCTChange('next')"
                  class="btn btn-primary mx-2 custom-pagination-button">
                  <i class="fa-solid fa-angle-right"></i>
                </button>
              </div>
        </div>
    
    </div>
</div>
