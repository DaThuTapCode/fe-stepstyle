<div class="container product-detail">
  <div class="row">
    <!-- Hình ảnh sản phẩm -->
    <div class="col-md-6">
      <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div *ngIf="selectedProductDetail; else noProductImage" class="carousel-item active">
            <img [src]="selectedProductDetail.anh" alt="Product Image" class="img-fluid">
          </div>
          <ng-template #noProductImage>
            <div class="carousel-item active">
              <img src="http://localhost:8080/images/does-not-exist.png" alt="Out of Stock" class="img-fluid">
            </div>
          </ng-template>
        </div>
        <!-- <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button> -->
      </div>
    </div>

    <!-- Thông tin sản phẩm -->
    <div class="col-md-6">
      <h2 class="product-title">{{ sanPhamById.tenSanPham }} {{selectedProductDetail?.kichCo?.giaTri}}</h2>
      <p class="product-price" *ngIf="selectedProductDetail; else noPrice">
        <span class="promo-price">
          {{ selectedProductDetail.gia | currency: 'VND' }}
        </span>
      </p>
      <ng-template #noPrice>
        <p class="product-price text-danger">Sản phẩm không tồn tại</p>
      </ng-template>

      <!-- Màu sắc -->
      <div class="mt-3">
        <strong>Màu sắc:</strong>
        <div class="btn-group">
          <button *ngFor="let ms of mauSacs" type="button" class="btn btn-outline-secondary color-btn"
            [ngClass]="{'selected': ms.idMauSac === selectedColor.idMauSac}" (click)="selectColor(ms)">
            <span>{{ ms.tenMau }}</span>
          </button>
        </div>
      </div>

      <!-- Kích cỡ -->
      <div class="mt-3">
        <strong>Kích cỡ:</strong>
        <div class="btn-group">
          <button *ngFor="let kc of uniqueSizes" type="button" class="btn btn-outline-secondary size-btn"
            [ngClass]="{'selected': kc.idKichCo === selectedSize.idKichCo}" (click)="selectSize(kc)">
            <span>{{ kc.giaTri }}</span>
          </button>
        </div>
      </div>

      <!-- Nút "Mua ngay" và "Thêm vào giỏ hàng" -->
      <div class="d-flex justify-content-start align-items-center gap-3 mt-3">
        <button class="btn btn-primary btn-buy-now" *ngIf="selectedProductDetail" (click)="buyNow(2)">
          Mua ngay với giá {{ selectedProductDetail.gia | currency: 'VND' }}
        </button>
        <button class="btn btn-outline-secondary btn-add-to-cart">Thêm vào giỏ hàng</button>
      </div>

      <!-- Phần thông tin chi tiết sản phẩm -->
      <div class="product-details mt-4">
        <h5>Thông tin chi tiết</h5>
        <ul class="list-group">
          <!-- Chất liệu -->
          <li class="list-group-item">
            <strong>Chất liệu:</strong> {{ selectedProductDetail?.chatLieu?.tenChatLieu || 'Đang cập nhật' }}
          </li>
          <!-- Trọng lượng -->
          <li class="list-group-item">
            <strong>Trọng lượng:</strong>
            {{ selectedProductDetail?.trongLuong?.giaTri || 'Đang cập nhật'}}
          </li>
          <!-- Mô tả sản phẩm -->
          <li class="list-group-item">
            <strong>Mô tả sản phẩm:</strong>
            <p class="mt-2">{{ sanPhamById.moTa || 'Thông tin sẽ được cập nhật sau.' }}</p>
          </li>
        </ul>
      </div>

    </div>
  </div>

  <!-- Sản phẩm cùng dòng
  <div class="related-products mt-5">
    <h3 class="text-center mb-4">XEM THÊM CÁC SẢN PHẨM CÙNG DÒNG!</h3>
    <div class="row">
      <div class="col-md-3" *ngIf="selectedProductDetail">
        <div class="card">
          <img [src]="selectedProductDetail.anh" class="card-img-top" [alt]="sanPhamById.tenSanPham">
          <div class="card-body text-center">
            <p class="card-title">{{ sanPhamById.tenSanPham }}</p>
            <p class="card-text">{{ selectedProductDetail.gia | currency: 'VND' }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="selectedProductDetail">
        <div class="card">
          <img [src]="selectedProductDetail.anh" class="card-img-top" alt="{{ sanPhamById.tenSanPham }}">
          <div class="card-body text-center">
            <p class="card-title">{{ sanPhamById.tenSanPham }}</p>
            <p class="card-text">{{ selectedProductDetail.gia | currency: 'VND' }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="selectedProductDetail">
        <div class="card">
          <img [src]="selectedProductDetail.anh" class="card-img-top" alt="{{ sanPhamById.tenSanPham }}">
          <div class="card-body text-center">
            <p class="card-title">{{ sanPhamById.tenSanPham }}</p>
            <p class="card-text">{{ selectedProductDetail.gia | currency: 'VND' }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3" *ngIf="selectedProductDetail">
        <div class="card">
          <img [src]="selectedProductDetail.anh" class="card-img-top" alt="{{ sanPhamById.tenSanPham }}">
          <div class="card-body text-center">
            <p class="card-title">{{ sanPhamById.tenSanPham }}</p>
            <p class="card-text">{{ selectedProductDetail.gia | currency: 'VND' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->
